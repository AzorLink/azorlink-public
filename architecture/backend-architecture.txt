╔══════════════════════════════════════════════════════════════════╗
║                  ARQUITETURA DO BACKEND                         ║
║                    Node.js + Express + TypeScript                ║
╚══════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────┐
│                         ENTRY POINT                              │
│                         src/index.ts                             │
│  - Inicializa servidor Express                                   │
│  - Configura middleware global                                   │
│  - Conecta à base de dados                                       │
│  - Inicia servidor HTTP                                          │
└──────────────────────────────┬──────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                      MIDDLEWARE LAYER                            │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  - CORS                                                   │   │
│  │  - Body Parser                                           │   │
│  │  - Authentication                                        │   │
│  │  - Error Handler                                         │   │
│  │  - Request Logger                                        │   │
│  └──────────────────────────────────────────────────────────┘   │
└──────────────────────────────┬──────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                         ROUTES LAYER                             │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  /api                                                    │   │
│  │    ├── /auth    → authRoutes                            │   │
│  │    ├── /users   → userRoutes                            │   │
│  │    ├── /resources → resourceRoutes                      │   │
│  │    └── /health  → healthCheck                           │   │
│  └──────────────────────────────────────────────────────────┘   │
└──────────────────────────────┬──────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                      CONTROLLERS LAYER                           │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  - userController                                        │   │
│  │  - resourceController                                    │   │
│  │  - authController                                        │   │
│  │                                                           │   │
│  │  Responsabilidades:                                      │   │
│  │  - Receber requests                                      │   │
│  │  - Validar inputs                                        │   │
│  │  - Chamar services                                       │   │
│  │  - Retornar responses                                    │   │
│  └──────────────────────────────────────────────────────────┘   │
└──────────────────────────────┬──────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                       SERVICES LAYER                             │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  - userService                                           │   │
│  │  - resourceService                                       │   │
│  │  - authService                                           │   │
│  │                                                           │   │
│  │  Responsabilidades:                                      │   │
│  │  - Lógica de negócio                                     │   │
│  │  - Validações complexas                                  │   │
│  │  - Transformações de dados                               │   │
│  │  - Orquestração de operações                             │   │
│  └──────────────────────────────────────────────────────────┘   │
└──────────────────────────────┬──────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                        MODELS LAYER                              │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  - User                                                  │   │
│  │  - Resource                                              │   │
│  │                                                           │   │
│  │  Responsabilidades:                                      │   │
│  │  - Definição de schemas                                  │   │
│  │  - Validações de modelo                                  │   │
│  │  - Relacionamentos                                       │   │
│  └──────────────────────────────────────────────────────────┘   │
└──────────────────────────────┬──────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                      DATABASE LAYER                              │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  - Database Connection                                   │   │
│  │  - Query Builders                                        │   │
│  │  - Migrations                                            │   │
│  └──────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                      UTILITIES & CONFIG                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐         │
│  │   Logger     │  │  Validator    │  │   Errors     │         │
│  └──────────────┘  └──────────────┘  └──────────────┘         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐         │
│  │   Database   │  │     Env       │  │   Types      │         │
│  └──────────────┘  └──────────────┘  └──────────────┘         │
└─────────────────────────────────────────────────────────────────┘

PRINCÍPIOS:
═══════════
✓ Separação de responsabilidades
✓ Single Responsibility Principle
✓ Dependency Injection
✓ Error handling centralizado
✓ Type safety com TypeScript

