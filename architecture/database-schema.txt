╔══════════════════════════════════════════════════════════════════╗
║                    ESQUEMA DA BASE DE DADOS                     ║
║                      AzorLink Database Schema                    ║
╚══════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────┐
│                         USERS TABLE                              │
├─────────────────────────────────────────────────────────────────┤
│  id              │  UUID (PK)                                    │
│  email           │  VARCHAR(255) UNIQUE NOT NULL                 │
│  password_hash   │  VARCHAR(255) NOT NULL                       │
│  name            │  VARCHAR(255)                                │
│  role            │  VARCHAR(50) DEFAULT 'user'                  │
│  created_at      │  TIMESTAMP DEFAULT NOW()                     │
│  updated_at      │  TIMESTAMP DEFAULT NOW()                     │
│  deleted_at      │  TIMESTAMP NULL                              │
└─────────────────────────────────────────────────────────────────┘
                              │
                              │ 1:N
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                       RESOURCES TABLE                            │
├─────────────────────────────────────────────────────────────────┤
│  id              │  UUID (PK)                                    │
│  user_id         │  UUID (FK -> users.id)                       │
│  title           │  VARCHAR(255) NOT NULL                       │
│  description     │  TEXT                                         │
│  type            │  VARCHAR(50)                                 │
│  status          │  VARCHAR(50) DEFAULT 'active'                │
│  created_at      │  TIMESTAMP DEFAULT NOW()                     │
│  updated_at      │  TIMESTAMP DEFAULT NOW()                     │
│  deleted_at      │  TIMESTAMP NULL                              │
└─────────────────────────────────────────────────────────────────┘
                              │
                              │ 1:N
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    RESOURCE_METADATA TABLE                       │
├─────────────────────────────────────────────────────────────────┤
│  id              │  UUID (PK)                                    │
│  resource_id     │  UUID (FK -> resources.id)                   │
│  key             │  VARCHAR(255) NOT NULL                       │
│  value           │  TEXT                                         │
│  created_at      │  TIMESTAMP DEFAULT NOW()                     │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                      SESSIONS TABLE                              │
├─────────────────────────────────────────────────────────────────┤
│  id              │  UUID (PK)                                    │
│  user_id         │  UUID (FK -> users.id)                       │
│  token           │  VARCHAR(500) NOT NULL                       │
│  expires_at      │  TIMESTAMP NOT NULL                           │
│  created_at      │  TIMESTAMP DEFAULT NOW()                     │
└─────────────────────────────────────────────────────────────────┘

RELACIONAMENTOS:
═══════════════
- Users 1:N Resources (um utilizador pode ter vários recursos)
- Resources 1:N ResourceMetadata (um recurso pode ter vários metadados)
- Users 1:N Sessions (um utilizador pode ter várias sessões)

ÍNDICES:
════════
- users.email (UNIQUE)
- resources.user_id
- resources.status
- sessions.token
- sessions.user_id

NOTAS:
══════
- Todos os timestamps em UTC
- Soft delete implementado (deleted_at)
- UUIDs para melhor distribuição
- TODO: Adicionar mais tabelas conforme necessário

